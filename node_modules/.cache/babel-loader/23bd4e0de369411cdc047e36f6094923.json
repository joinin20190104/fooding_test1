{"ast":null,"code":"var _jsxFileName = \"D:\\\\workspace\\\\capstone_project\\\\exex1\\\\my-app\\\\src\\\\component\\\\SignUp.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport Header from \"./Header\";\nimport styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\nimport { url } from \"../Api\";\n/*\r\n{\r\n\t\"userId\" : \"아이디\",\r\n\t\"userPassword\" : \"패스워드\",\r\n\t\"sex\" : true,\r\n\t\"userName\": \"정현승\",\r\n\t\"nickName\": \"별명\",\r\n\t\"email\": \"hansung@naver.com\",\r\n\t\"age\" : 26,\r\n\t\"role\" : \"ROLE_USER\"\r\n}\r\n*/\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\n  border: 1px solid black;\n  width: 350px;\n  height: 600px;\n  position: relative;\n  box-sizing: border-box;\n`;\n_c = Container;\nconst Form = styled.form`\n  margin-top: 60px;\n  height: 500px;\n  padding: 20px;\n  position: relative;\n`;\n_c2 = Form;\nconst Input = styled.input.attrs({\n  required: true\n})`\n  margin-bottom: 20px;\n  height: 30px;\n  padding: 5px;\n  border: none;\n  border-bottom: 1px solid ${props => props.theme.borderGrayColor};\n  &:focus {\n    outline: none;\n  }\n`;\n_c3 = Input;\nconst RadioBox = styled.div`\n  padding: 0px 10px;\n  font-size: 13px;\n  /*display: inline-flex;\n  align-items: center;*/\n`;\n_c4 = RadioBox;\nconst RadioButton = styled.input`\n  cursor: pointer;\n  appearance: none;\n  width: 0.9rem;\n  height: 0.9rem;\n  border-radius: 100%;\n  background-color: white;\n  border: 1px solid ${props => props.theme.mainColor};\n\n  &:checked {\n    background-color: ${props => props.theme.mainColor};\n  }\n`;\n_c5 = RadioButton;\nconst Message = styled.span`\n  color: ${props => props.theme.borderGrayColor};\n  font-size: 12px;\n  position: relative;\n  bottom: 12px;\n`;\n_c6 = Message;\nconst SubmitBtn = styled.button`\n  border: none;\n  background-color: ${props => props.theme.mainColor};\n  color: white;\n  height: 50px;\n  border-radius: 3px;\n  font-size: 15px;\n  cursor: pointer;\n  width: 308px;\n  position: absolute;\n  bottom: 0;\n`;\n_c7 = SubmitBtn;\n\nfunction SignUp() {\n  _s();\n\n  var _errors$Id, _errors$password, _errors$password2, _errors$password3, _errors$nickName, _errors$age, _errors$extraError;\n\n  const {\n    register,\n    handleSubmit,\n    reset,\n    formState: {\n      errors\n    },\n    setError\n  } = useForm({\n    defaultValues: {\n      sex: \"female\"\n    }\n  });\n\n  const signUpPost = data => {\n    console.log(data);\n    const userAge = 2022 - data.age.substring(0, 4) + 1; // 나이 계산\n\n    console.log(userAge);\n\n    var axios = require(\"axios\");\n\n    var data = JSON.stringify({\n      userId: data.Id,\n      userPassword: data.password,\n      sex: data.sex == \"male\" ? true : false,\n      userName: data.userName,\n      nickName: data.nickName,\n      age: userAge,\n      role: \"ROLE_USER\"\n    });\n    var config = {\n      method: \"post\",\n      url: url + \"/sample_project/join\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      data: data\n    };\n    axios(config).then(function (response) {\n      console.log(response.data);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  const onValid = data => {\n    // 데이터 전송시 작동, data는 입력된 값들\n\n    /*\r\n    Id: \"asdfasdf\"\r\n    age: \"20200202\"\r\n    password: \"asdfasdf\"\r\n    password1: \"asdfasdf\"\r\n    nickName\"dd\"\r\n    sex: \"male\"\r\n    userName: \"asdf\"\r\n    */\n    if (data.password !== data.password1) {\n      setError(\"password1\", {\n        message: \"비밀번호가 맞지 않습니다.\"\n      }, {\n        shouldFocus: true\n      });\n    } else {\n      reset();\n      signUpPost(data);\n    } //setError(\"extraError\", { message: \"Server offline.\" });\n\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/\",\n      children: /*#__PURE__*/_jsxDEV(Header, {\n        title: \"회원가입\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\"\n      },\n      onSubmit: handleSubmit(onValid),\n      children: [/*#__PURE__*/_jsxDEV(Input, { ...register(\"Id\", {\n          required: \"아이디를 입력하세요.\",\n          minLength: {\n            value: 8,\n            message: \"최소 8자 이상 입력하세요.\"\n          }\n        }),\n        placeholder: \"\\uC544\\uC774\\uB514\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Message, {\n        children: errors === null || errors === void 0 ? void 0 : (_errors$Id = errors.Id) === null || _errors$Id === void 0 ? void 0 : _errors$Id.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, { ...register(\"password\", {\n          required: \"비밀번호를 입력하세요.\",\n          minLength: {\n            value: 8,\n            message: \"최소 8자 이상 입력하세요.\"\n          }\n        }),\n        placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638\",\n        type: \"password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Message, {\n        children: errors === null || errors === void 0 ? void 0 : (_errors$password = errors.password) === null || _errors$password === void 0 ? void 0 : _errors$password.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, { ...register(\"password1\", {\n          required: \"비밀번호 확인을 입력하세요.\"\n        }),\n        placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638 \\uD655\\uC778\",\n        type: \"password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Message, {\n        children: errors === null || errors === void 0 ? void 0 : (_errors$password2 = errors.password1) === null || _errors$password2 === void 0 ? void 0 : _errors$password2.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, { ...register(\"userName\", {\n          required: \"이름을 입력하세요.\",\n          minLength: {\n            value: 2,\n            message: \"최소 2자 이상 입력하세요.\"\n          }\n        }),\n        placeholder: \"\\uC774\\uB984 (\\uC2E4\\uBA85 \\uC785\\uB825)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Message, {\n        children: errors === null || errors === void 0 ? void 0 : (_errors$password3 = errors.password) === null || _errors$password3 === void 0 ? void 0 : _errors$password3.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, { ...register(\"nickName\", {\n          required: \"닉네임을 입력하세요.\",\n          minLength: {\n            value: 2,\n            message: \"최소 2자 이상 입력하세요.\"\n          },\n          validate: {\n            /*noNico: (value) =>\r\n              value.includes(\"nico\") ? \"no nicos allowed\" : true,\r\n              noNick: (value) =>\r\n              value.includes(\"nick\") ? \"no nick allowed\" : true,\r\n              */\n          }\n        }),\n        placeholder: \"\\uB2C9\\uB124\\uC784\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Message, {\n        children: errors === null || errors === void 0 ? void 0 : (_errors$nickName = errors.nickName) === null || _errors$nickName === void 0 ? void 0 : _errors$nickName.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          width: \"100%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Input, { ...register(\"age\", {\n            required: \"나이를 입력하세요.\",\n            minLength: {\n              value: 8,\n              message: \"8자리를 입력하세요.\"\n            },\n            pattern: {\n              value: /[0-9]/g,\n              message: \"숫자만 입력해주세요.\"\n            }\n          }),\n          placeholder: \"\\uC0DD\\uB144\\uC6D4\\uC77C (8\\uC790\\uB9AC \\uC785\\uB825)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(RadioBox, {\n          children: [/*#__PURE__*/_jsxDEV(RadioButton, {\n            type: \"radio\",\n            name: \"sex\",\n            value: \"female\",\n            ...register(\"sex\"),\n            readOnly: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\uC5EC\\uC131\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(RadioButton, {\n            type: \"radio\",\n            name: \"sex\",\n            value: \"male\",\n            style: {\n              marginLeft: 12\n            },\n            ...register(\"sex\"),\n            readOnly: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\uB0A8\\uC131\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Message, {\n        children: errors === null || errors === void 0 ? void 0 : (_errors$age = errors.age) === null || _errors$age === void 0 ? void 0 : _errors$age.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SubmitBtn, {\n        children: \"\\uD68C\\uC6D0\\uAC00\\uC785\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Message, {\n        children: errors === null || errors === void 0 ? void 0 : (_errors$extraError = errors.extraError) === null || _errors$extraError === void 0 ? void 0 : _errors$extraError.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 162,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SignUp, \"pP0zlWDqcslcTXXtzyCrbdDoT/c=\", false, function () {\n  return [useForm];\n});\n\n_c8 = SignUp;\nexport default SignUp;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"Form\");\n$RefreshReg$(_c3, \"Input\");\n$RefreshReg$(_c4, \"RadioBox\");\n$RefreshReg$(_c5, \"RadioButton\");\n$RefreshReg$(_c6, \"Message\");\n$RefreshReg$(_c7, \"SubmitBtn\");\n$RefreshReg$(_c8, \"SignUp\");","map":{"version":3,"sources":["D:/workspace/capstone_project/exex1/my-app/src/component/SignUp.js"],"names":["React","useState","useForm","Header","styled","Link","url","Container","div","Form","form","Input","input","attrs","required","props","theme","borderGrayColor","RadioBox","RadioButton","mainColor","Message","span","SubmitBtn","button","SignUp","register","handleSubmit","reset","formState","errors","setError","defaultValues","sex","signUpPost","data","console","log","userAge","age","substring","axios","require","JSON","stringify","userId","Id","userPassword","password","userName","nickName","role","config","method","headers","then","response","catch","error","onValid","password1","message","shouldFocus","display","flexDirection","minLength","value","validate","width","pattern","marginLeft","extraError"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport Header from \"./Header\";\r\nimport styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { url } from \"../Api\";\r\n\r\n/*\r\n{\r\n\t\"userId\" : \"아이디\",\r\n\t\"userPassword\" : \"패스워드\",\r\n\t\"sex\" : true,\r\n\t\"userName\": \"정현승\",\r\n\t\"nickName\": \"별명\",\r\n\t\"email\": \"hansung@naver.com\",\r\n\t\"age\" : 26,\r\n\t\"role\" : \"ROLE_USER\"\r\n}\r\n*/\r\n\r\nconst Container = styled.div`\r\n  border: 1px solid black;\r\n  width: 350px;\r\n  height: 600px;\r\n  position: relative;\r\n  box-sizing: border-box;\r\n`;\r\n\r\nconst Form = styled.form`\r\n  margin-top: 60px;\r\n  height: 500px;\r\n  padding: 20px;\r\n  position: relative;\r\n`;\r\n\r\nconst Input = styled.input.attrs({ required: true })`\r\n  margin-bottom: 20px;\r\n  height: 30px;\r\n  padding: 5px;\r\n  border: none;\r\n  border-bottom: 1px solid ${(props) => props.theme.borderGrayColor};\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`;\r\n\r\nconst RadioBox = styled.div`\r\n  padding: 0px 10px;\r\n  font-size: 13px;\r\n  /*display: inline-flex;\r\n  align-items: center;*/\r\n`;\r\n\r\nconst RadioButton = styled.input`\r\n  cursor: pointer;\r\n  appearance: none;\r\n  width: 0.9rem;\r\n  height: 0.9rem;\r\n  border-radius: 100%;\r\n  background-color: white;\r\n  border: 1px solid ${(props) => props.theme.mainColor};\r\n\r\n  &:checked {\r\n    background-color: ${(props) => props.theme.mainColor};\r\n  }\r\n`;\r\n\r\nconst Message = styled.span`\r\n  color: ${(props) => props.theme.borderGrayColor};\r\n  font-size: 12px;\r\n  position: relative;\r\n  bottom: 12px;\r\n`;\r\n\r\nconst SubmitBtn = styled.button`\r\n  border: none;\r\n  background-color: ${(props) => props.theme.mainColor};\r\n  color: white;\r\n  height: 50px;\r\n  border-radius: 3px;\r\n  font-size: 15px;\r\n  cursor: pointer;\r\n  width: 308px;\r\n  position: absolute;\r\n  bottom: 0;\r\n`;\r\n\r\nfunction SignUp() {\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    reset,\r\n    formState: { errors },\r\n    setError,\r\n  } = useForm({\r\n    defaultValues: {\r\n      sex: \"female\",\r\n    },\r\n  });\r\n\r\n  const signUpPost = (data) => {\r\n    console.log(data);\r\n    const userAge = 2022 - data.age.substring(0, 4) + 1; // 나이 계산\r\n    console.log(userAge);\r\n\r\n    var axios = require(\"axios\");\r\n    var data = JSON.stringify({\r\n      userId: data.Id,\r\n      userPassword: data.password,\r\n      sex: data.sex == \"male\" ? true : false,\r\n      userName: data.userName,\r\n      nickName: data.nickName,\r\n      age: userAge,\r\n      role: \"ROLE_USER\",\r\n    });\r\n\r\n    var config = {\r\n      method: \"post\",\r\n      url: url + \"/sample_project/join\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      data: data,\r\n    };\r\n\r\n    axios(config)\r\n      .then(function (response) {\r\n        console.log(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  const onValid = (data) => {\r\n    // 데이터 전송시 작동, data는 입력된 값들\r\n    /*\r\n    Id: \"asdfasdf\"\r\n    age: \"20200202\"\r\n    password: \"asdfasdf\"\r\n    password1: \"asdfasdf\"\r\n    nickName\"dd\"\r\n    sex: \"male\"\r\n    userName: \"asdf\"\r\n*/\r\n\r\n    if (data.password !== data.password1) {\r\n      setError(\r\n        \"password1\",\r\n        { message: \"비밀번호가 맞지 않습니다.\" },\r\n        { shouldFocus: true }\r\n      );\r\n    } else {\r\n      reset();\r\n      signUpPost(data);\r\n    }\r\n\r\n    //setError(\"extraError\", { message: \"Server offline.\" });\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Link to={\"/\"}>\r\n        <Header title={\"회원가입\"} />\r\n      </Link>\r\n      <Form\r\n        style={{ display: \"flex\", flexDirection: \"column\" }}\r\n        onSubmit={handleSubmit(onValid)}\r\n      >\r\n        <Input\r\n          {...register(\"Id\", {\r\n            required: \"아이디를 입력하세요.\",\r\n            minLength: {\r\n              value: 8,\r\n              message: \"최소 8자 이상 입력하세요.\",\r\n            },\r\n          })}\r\n          placeholder=\"아이디\"\r\n        />\r\n        <Message>{errors?.Id?.message}</Message>\r\n        <Input\r\n          {...register(\"password\", {\r\n            required: \"비밀번호를 입력하세요.\",\r\n            minLength: {\r\n              value: 8,\r\n              message: \"최소 8자 이상 입력하세요.\",\r\n            },\r\n          })}\r\n          placeholder=\"비밀번호\"\r\n          type=\"password\"\r\n        />\r\n        <Message>{errors?.password?.message}</Message>\r\n        <Input\r\n          {...register(\"password1\", {\r\n            required: \"비밀번호 확인을 입력하세요.\",\r\n          })}\r\n          placeholder=\"비밀번호 확인\"\r\n          type=\"password\"\r\n        />\r\n        <Message>{errors?.password1?.message}</Message>\r\n        <Input\r\n          {...register(\"userName\", {\r\n            required: \"이름을 입력하세요.\",\r\n            minLength: {\r\n              value: 2,\r\n              message: \"최소 2자 이상 입력하세요.\",\r\n            },\r\n          })}\r\n          placeholder=\"이름 (실명 입력)\"\r\n        />\r\n        <Message>{errors?.password?.message}</Message>\r\n        <Input\r\n          {...register(\"nickName\", {\r\n            required: \"닉네임을 입력하세요.\",\r\n            minLength: {\r\n              value: 2,\r\n              message: \"최소 2자 이상 입력하세요.\",\r\n            },\r\n            validate: {\r\n              /*noNico: (value) =>\r\n                value.includes(\"nico\") ? \"no nicos allowed\" : true,\r\n\r\n              noNick: (value) =>\r\n                value.includes(\"nick\") ? \"no nick allowed\" : true,\r\n                */\r\n            },\r\n          })}\r\n          placeholder=\"닉네임\"\r\n        />\r\n        <Message>{errors?.nickName?.message}</Message>\r\n\r\n        <div style={{ display: \"flex\", width: \"100%\" }}>\r\n          <Input\r\n            {...register(\"age\", {\r\n              required: \"나이를 입력하세요.\",\r\n              minLength: {\r\n                value: 8,\r\n                message: \"8자리를 입력하세요.\",\r\n              },\r\n              pattern: { value: /[0-9]/g, message: \"숫자만 입력해주세요.\" },\r\n            })}\r\n            placeholder=\"생년월일 (8자리 입력)\"\r\n          />\r\n\r\n          <RadioBox>\r\n            <RadioButton\r\n              type=\"radio\"\r\n              name=\"sex\"\r\n              value=\"female\"\r\n              {...register(\"sex\")}\r\n              readOnly\r\n            />\r\n            <span>여성</span>\r\n            <RadioButton\r\n              type=\"radio\"\r\n              name=\"sex\"\r\n              value=\"male\"\r\n              style={{ marginLeft: 12 }}\r\n              {...register(\"sex\")}\r\n              readOnly\r\n            />\r\n            <span>남성</span>\r\n          </RadioBox>\r\n        </div>\r\n        <Message>{errors?.age?.message}</Message>\r\n        <SubmitBtn>회원가입</SubmitBtn>\r\n        <Message>{errors?.extraError?.message}</Message>\r\n      </Form>\r\n    </Container>\r\n  );\r\n}\r\nexport default SignUp;\r\n"]},"metadata":{},"sourceType":"module"}