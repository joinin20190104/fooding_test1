{"ast":null,"code":"var _jsxFileName = \"D:\\\\workspace\\\\capstone_project\\\\exex1\\\\my-app\\\\src\\\\component\\\\WriteReview.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Container from \"./Review\";\nimport styled, { createGlobalStyle } from \"styled-components\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { Navigate } from \"react-router\";\nimport GlobalStyle from \"../GlobalStyle\";\nimport Header from \"./Header\";\nimport FontAwesomeIcon from \"./FontAwesome\";\nimport { Cookies } from \"react-cookie\";\nimport url from \"../Api\"; // border: 1px solid black;\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WriteReviewContainer = styled.div`\n  \n  width: 350px;\n  height: 600px;\n  position: relative;\n  display: flex;\n`;\n_c = WriteReviewContainer;\nconst SubmitButton = styled.button`\n  border: none;\n  width: 350px;\n  height: 80px;\n  position: absolute;\n  bottom: 0px;\n  background-color: ${props => props.theme.mainColor};\n  font-family: \"Source Sans Pro\", sans-serif;\n\n  color: white;\n  &:hover {\n    cursor: pointer;\n  }\n`;\n_c2 = SubmitButton;\nconst TypeInput = styled.input`\n  border: none;\n  border-bottom: 1px solid gray;\n  width: 220px;\n  font-size: 25px;\n  padding-top: 15px;\n  &:focus {\n    outline: none;\n  }\n`;\n_c3 = TypeInput;\nconst ContentTextArea = styled.textarea`\n  width: 220px;\n  height: 200px;\n  font-size: 20px;\n  resize: none;\n  border: none;\n  border-bottom: 1px solid gray;\n\n  font-family: \"Source Sans Pro\", sans-serif;\n  &:focus {\n    outline: none;\n  }\n`;\n_c4 = ContentTextArea;\nconst FormContainer = styled.div`\n  padding-top: 40px;\n  width: 100%;\n  height: 90%;\n  flex-direction:column;\n  display: flex;\n  align-items:center;\n \n`;\n_c5 = FormContainer;\nconst ImageForm = styled.form`\ninput[type=\"file\"] {\n  width: 0;\n  height: 0;\n  padding: 0;\n  overflow: hidden;\n  border: none;\n}\n\n`;\n_c6 = ImageForm;\nconst ImageContainer = styled.div`\n  width:95%;\n  height:110px;\n  background-color:#ecf0f1;\n  display:flex;\n  overflow:auto;\n  align-items:start;\n  ::-webkit-scrollbar {\n    display: none; /* Chrome, Safari, Opera*/\n  }\n  img {\n    width:70px;\n    height:70px;\n    margin-left:10px;\n    \n  }\n \n`;\n_c7 = ImageContainer;\nconst Stars = styled.div`\n  width:60%;\n  height:50px;\n  display:flex;\n  justify-content:space-evenly;\n  margin-top:10px;\n  margin-bottom:10px;\n  \n  `;\n_c8 = Stars;\nconst Star = styled.span`\n  font-size:30px;\n  cursor:pointer;\n \n  color:#fbc531;\n`;\n_c9 = Star;\nconst FileIconContainer = styled.div` \nmargin-left:10px;\n  width:70px;\n  height:70px;\n  display:flex;\n  justify-content:center;\n  align-items:center;\n  background-color:white; \n  cursor:pointer;\n`;\n_c10 = FileIconContainer;\nconst File = styled.div`\n  margin-left:10px;\n  display:flex;\n  padding-top:20px;\n  width:70px;\n  height:70px;\n  \n img{\n  width:70px;\n  height:70px;box-sizing: border-box;\n }\n`;\n_c11 = File;\nconst FileIcon = styled.label`\n  font-size:20px;\n  cursor:pointer;\n`;\n_c12 = FileIcon;\nconst ContentForm = styled.form`\n width:90%;\n display:flex;\n flex-direction:column;\n align-items:center;\n & input,textarea{\n   width:90%;\n }\n height:300px;\n`;\n_c13 = ContentForm;\n\nconst WriteReview = () => {\n  _s();\n\n  const [reviewName, setReviewName] = useState(\"\");\n  const [reviewStar, setReviewStar] = useState(\"\");\n  const [reviewPw, setReviewPw] = useState(\"\");\n  const [reviewContent, setReviewContent] = useState(\"\");\n  const [imgs, setImg] = useState([]);\n  const [file, setFile] = useState([]);\n  const [useFile, setUseFile] = useState([]);\n  const [files, setFiles] = useState([]);\n  const [star, setStar] = useState(0); // const [first,setFirst]= useState(\"☆\");\n  // const [second,setSecond]= useState(\"☆\");\n  // const [third,setThird]= useState(\"☆\");\n  // const [fourth,setFourth]= useState(\"☆\");\n  // const [fifth,setFifth]= useState(\"☆\");\n\n  const [session, setSession] = useState();\n  const [stars, setStars] = useState([\"☆\", \"☆\", \"☆\", \"☆\", \"☆\"]);\n  let navigate = useNavigate();\n\n  const onChangeReviewName = e => setReviewName(e.target.value);\n\n  const onChangeReviewPw = e => setReviewPw(e.target.value);\n\n  const onChangeReviewContent = e => setReviewContent(e.target.value);\n\n  const cookies = new Cookies();\n\n  const getCookie = name => {\n    return cookies.get(name);\n  };\n\n  const starsToggle = num => {\n    setReviewStar(num);\n\n    switch (num) {\n      case 1:\n        setStars([\"★\", \"☆\", \"☆\", \"☆\", \"☆\"]);\n        break;\n\n      case 2:\n        setStars([\"★\", \"★\", \"☆\", \"☆\", \"☆\"]);\n        break;\n\n      case 3:\n        setStars([\"★\", \"★\", \"★\", \"☆\", \"☆\"]);\n        break;\n\n      case 4:\n        setStars([\"★\", \"★\", \"★\", \"★\", \"☆\"]);\n        break;\n\n      case 5:\n        setStars([\"★\", \"★\", \"★\", \"★\", \"★\"]);\n        break;\n    }\n  };\n\n  useEffect(() => {\n    console.log(\"getCookie\", getCookie(\"JSESSIONID\"));\n  }, []);\n\n  const countStar = () => {\n    let temp = star + 1;\n    setStar(star + 1);\n  };\n\n  const onChangeImage = e => {\n    e.preventDefault();\n    const img = e.target.files[0];\n    const tempArr = [...imgs, img];\n    setImg(tempArr);\n    console.log(\"tempArr\", tempArr);\n    const prevFile = URL.createObjectURL(e.target.files[0]);\n    setFile([...file, prevFile]);\n    console.log(\"imgs: \", file);\n    console.log(\"prevFile:\", prevFile);\n    e.target.value = '';\n  };\n\n  const submit = e => {\n    e.preventDefault();\n    console.log(\"imgs\", imgs);\n\n    var axios = require(\"axios\");\n    /*   var data = JSON.stringify({\r\n      name: reviewName,\r\n      star: reviewStar,\r\n      password: reviewPw,\r\n      content: reviewContent,\r\n      image: \"a;slkdfjas;lkdjf;laskdjf;laksjdf;laksjdf;lkj//asdfalsdk\",\r\n    }); */\n\n\n    const data = new FormData();\n    let content = {\n      title: reviewName,\n      content: reviewContent,\n      star: reviewStar\n    };\n    data.append(\"request\", new Blob([JSON.stringify(content)], {\n      type: \"application/json\"\n    }));\n    imgs.map(img => {\n      data.append(\"image\", img);\n    });\n    axios.post(\"http://13.124.207.219:8080/sample_project/review\", data, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\" // \"Content-Type\": \"application/json\",\n\n      }\n    }).then(res => {\n      console.log(res);\n      navigate(\"/Review\");\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  useEffect(() => {\n    setUseFile(file);\n  }, [file]);\n  return /*#__PURE__*/_jsxDEV(WriteReviewContainer, {\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/Review\",\n      children: /*#__PURE__*/_jsxDEV(Header, {\n        title: \"리뷰 쓰기\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FormContainer, {\n      children: [/*#__PURE__*/_jsxDEV(Stars, {\n        children: [/*#__PURE__*/_jsxDEV(Star, {\n          onClick: () => {\n            starsToggle(1);\n          },\n          children: stars[0]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Star, {\n          onClick: () => {\n            starsToggle(2);\n          },\n          children: stars[1]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Star, {\n          onClick: () => {\n            starsToggle(3);\n          },\n          children: stars[2]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Star, {\n          onClick: () => {\n            starsToggle(4);\n          },\n          children: stars[3]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Star, {\n          onClick: () => {\n            starsToggle(5);\n          },\n          children: stars[4]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ImageContainer, {\n        children: [/*#__PURE__*/_jsxDEV(ImageForm, {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"image_input\",\n            type: \"file\",\n            accept: \"image/jpg,image/png,image/jpeg,image/gif\",\n            name: \"photo\",\n            onChange: onChangeImage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FileIconContainer, {\n            children: /*#__PURE__*/_jsxDEV(FileIcon, {\n              for: \"image_input\",\n              children: [\"  \", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 46\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 16\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 14\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(File, {\n          children: useFile === undefined ? null : useFile.map(one => /*#__PURE__*/_jsxDEV(\"img\", {\n            src: one,\n            alt: one\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 65\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(ContentForm, {\n        children: [/*#__PURE__*/_jsxDEV(TypeInput, {\n          type: \"text\",\n          placeholder: \"\\uC774\\uB984\",\n          onChange: onChangeReviewName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TypeInput, {\n          type: \"text\",\n          placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638\",\n          onChange: onChangeReviewPw\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ContentTextArea, {\n          placeholder: \"\\uB0B4\\uC6A9\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\",\n          onChange: onChangeReviewContent\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SubmitButton, {\n      formEncType: \"multipart/form-data\",\n      onClick: submit,\n      children: \"\\uC804\\uC1A1\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 271,\n    columnNumber: 5\n  }, this);\n};\n\n_s(WriteReview, \"h2hitKpGjVmQathESzJDg8tgWnc=\", false, function () {\n  return [useNavigate];\n});\n\n_c14 = WriteReview;\nexport default WriteReview;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14;\n\n$RefreshReg$(_c, \"WriteReviewContainer\");\n$RefreshReg$(_c2, \"SubmitButton\");\n$RefreshReg$(_c3, \"TypeInput\");\n$RefreshReg$(_c4, \"ContentTextArea\");\n$RefreshReg$(_c5, \"FormContainer\");\n$RefreshReg$(_c6, \"ImageForm\");\n$RefreshReg$(_c7, \"ImageContainer\");\n$RefreshReg$(_c8, \"Stars\");\n$RefreshReg$(_c9, \"Star\");\n$RefreshReg$(_c10, \"FileIconContainer\");\n$RefreshReg$(_c11, \"File\");\n$RefreshReg$(_c12, \"FileIcon\");\n$RefreshReg$(_c13, \"ContentForm\");\n$RefreshReg$(_c14, \"WriteReview\");","map":{"version":3,"sources":["D:/workspace/capstone_project/exex1/my-app/src/component/WriteReview.js"],"names":["React","useEffect","useState","Container","styled","createGlobalStyle","useNavigate","Link","Navigate","GlobalStyle","Header","FontAwesomeIcon","Cookies","url","WriteReviewContainer","div","SubmitButton","button","props","theme","mainColor","TypeInput","input","ContentTextArea","textarea","FormContainer","ImageForm","form","ImageContainer","Stars","Star","span","FileIconContainer","File","FileIcon","label","ContentForm","WriteReview","reviewName","setReviewName","reviewStar","setReviewStar","reviewPw","setReviewPw","reviewContent","setReviewContent","imgs","setImg","file","setFile","useFile","setUseFile","files","setFiles","star","setStar","session","setSession","stars","setStars","navigate","onChangeReviewName","e","target","value","onChangeReviewPw","onChangeReviewContent","cookies","getCookie","name","get","starsToggle","num","console","log","countStar","temp","onChangeImage","preventDefault","img","tempArr","prevFile","URL","createObjectURL","submit","axios","require","data","FormData","content","title","append","Blob","JSON","stringify","type","map","post","headers","then","res","catch","err","undefined","one"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Container from \"./Review\";\r\nimport styled, { createGlobalStyle } from \"styled-components\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\nimport { Navigate } from \"react-router\";\r\nimport GlobalStyle from \"../GlobalStyle\";\r\nimport Header from \"./Header\";\r\nimport FontAwesomeIcon from \"./FontAwesome\";\r\nimport {Cookies} from \"react-cookie\";\r\nimport url from \"../Api\";\r\n// border: 1px solid black;\r\nconst WriteReviewContainer = styled.div`\r\n  \r\n  width: 350px;\r\n  height: 600px;\r\n  position: relative;\r\n  display: flex;\r\n`;\r\nconst SubmitButton = styled.button`\r\n  border: none;\r\n  width: 350px;\r\n  height: 80px;\r\n  position: absolute;\r\n  bottom: 0px;\r\n  background-color: ${(props) => props.theme.mainColor};\r\n  font-family: \"Source Sans Pro\", sans-serif;\r\n\r\n  color: white;\r\n  &:hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\nconst TypeInput = styled.input`\r\n  border: none;\r\n  border-bottom: 1px solid gray;\r\n  width: 220px;\r\n  font-size: 25px;\r\n  padding-top: 15px;\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`;\r\nconst ContentTextArea = styled.textarea`\r\n  width: 220px;\r\n  height: 200px;\r\n  font-size: 20px;\r\n  resize: none;\r\n  border: none;\r\n  border-bottom: 1px solid gray;\r\n\r\n  font-family: \"Source Sans Pro\", sans-serif;\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`;\r\nconst FormContainer = styled.div`\r\n  padding-top: 40px;\r\n  width: 100%;\r\n  height: 90%;\r\n  flex-direction:column;\r\n  display: flex;\r\n  align-items:center;\r\n \r\n`;\r\nconst ImageForm = styled.form`\r\ninput[type=\"file\"] {\r\n  width: 0;\r\n  height: 0;\r\n  padding: 0;\r\n  overflow: hidden;\r\n  border: none;\r\n}\r\n\r\n`;\r\nconst ImageContainer = styled.div`\r\n  width:95%;\r\n  height:110px;\r\n  background-color:#ecf0f1;\r\n  display:flex;\r\n  overflow:auto;\r\n  align-items:start;\r\n  ::-webkit-scrollbar {\r\n    display: none; /* Chrome, Safari, Opera*/\r\n  }\r\n  img {\r\n    width:70px;\r\n    height:70px;\r\n    margin-left:10px;\r\n    \r\n  }\r\n \r\n`;\r\nconst Stars = styled.div`\r\n  width:60%;\r\n  height:50px;\r\n  display:flex;\r\n  justify-content:space-evenly;\r\n  margin-top:10px;\r\n  margin-bottom:10px;\r\n  \r\n  `;\r\nconst Star = styled.span`\r\n  font-size:30px;\r\n  cursor:pointer;\r\n \r\n  color:#fbc531;\r\n`;\r\nconst FileIconContainer = styled.div` \r\nmargin-left:10px;\r\n  width:70px;\r\n  height:70px;\r\n  display:flex;\r\n  justify-content:center;\r\n  align-items:center;\r\n  background-color:white; \r\n  cursor:pointer;\r\n`;\r\nconst File = styled.div`\r\n  margin-left:10px;\r\n  display:flex;\r\n  padding-top:20px;\r\n  width:70px;\r\n  height:70px;\r\n  \r\n img{\r\n  width:70px;\r\n  height:70px;box-sizing: border-box;\r\n }\r\n`;\r\nconst FileIcon = styled.label`\r\n  font-size:20px;\r\n  cursor:pointer;\r\n`;\r\nconst ContentForm= styled.form`\r\n width:90%;\r\n display:flex;\r\n flex-direction:column;\r\n align-items:center;\r\n & input,textarea{\r\n   width:90%;\r\n }\r\n height:300px;\r\n`;\r\nconst WriteReview = () => {\r\n  const [reviewName, setReviewName] = useState(\"\");\r\n  const [reviewStar, setReviewStar] = useState(\"\");\r\n  const [reviewPw, setReviewPw] = useState(\"\");\r\n  const [reviewContent, setReviewContent] = useState(\"\");\r\n  const [imgs, setImg] = useState([]);\r\n\r\n\r\n  const [file, setFile] = useState([]);\r\n  const [useFile,setUseFile] = useState([]);\r\n\r\n  const [files, setFiles] = useState([]);\r\n  \r\n  const [star,setStar] = useState(0);\r\n  \r\n  // const [first,setFirst]= useState(\"☆\");\r\n  // const [second,setSecond]= useState(\"☆\");\r\n  // const [third,setThird]= useState(\"☆\");\r\n  // const [fourth,setFourth]= useState(\"☆\");\r\n  // const [fifth,setFifth]= useState(\"☆\");\r\n const [session,setSession] = useState();\r\n  const [stars,setStars] = useState([\"☆\",\"☆\",\"☆\",\"☆\",\"☆\"]);\r\n  let navigate = useNavigate();\r\n  const onChangeReviewName = (e) => setReviewName(e.target.value);\r\n  const onChangeReviewPw = (e) => setReviewPw(e.target.value);\r\n  const onChangeReviewContent = (e) => setReviewContent(e.target.value);\r\n  const cookies = new Cookies();\r\n   const getCookie=(name)=>{\r\n     return cookies.get(name);\r\n  }\r\nconst starsToggle = (num)=>{\r\n\r\n  setReviewStar(num);\r\n  switch(num){\r\n    case 1:\r\n      setStars([\"★\",\"☆\",\"☆\",\"☆\",\"☆\"]);\r\n    break;\r\n    case 2:\r\n      setStars([\"★\",\"★\",\"☆\",\"☆\",\"☆\"]);\r\n      break;\r\n    case 3:\r\n      setStars([\"★\",\"★\",\"★\",\"☆\",\"☆\"]);\r\n    \r\n      break;\r\n    case 4:\r\n      setStars([\"★\",\"★\",\"★\",\"★\",\"☆\"]);\r\n    \r\n    break;\r\n    case 5:\r\n      setStars([\"★\",\"★\",\"★\",\"★\",\"★\"]);\r\n      break;\r\n  }\r\n}\r\nuseEffect(()=>{\r\n  console.log(\"getCookie\",getCookie(\"JSESSIONID\"));\r\n\r\n},[]);\r\n    const countStar = ()=>{\r\n      let temp = star+1;\r\n      setStar(star+1);\r\n    }\r\n  const onChangeImage = (e) => {\r\n    e.preventDefault();\r\n    const img = e.target.files[0];\r\n    \r\n    const tempArr=[...imgs,img];\r\n    setImg(tempArr);\r\n    console.log(\"tempArr\",tempArr);\r\n    const prevFile = URL.createObjectURL(e.target.files[0]);\r\n    setFile([...file,prevFile]);\r\n    console.log(\"imgs: \", file);\r\n    console.log(\"prevFile:\", prevFile);\r\n    e.target.value = ''; \r\n  };\r\n\r\n  const submit = (e) => {\r\n    e.preventDefault();\r\n    console.log(\"imgs\",imgs);\r\n    var axios = require(\"axios\");\r\n    /*   var data = JSON.stringify({\r\n      name: reviewName,\r\n      star: reviewStar,\r\n      password: reviewPw,\r\n      content: reviewContent,\r\n      image: \"a;slkdfjas;lkdjf;laskdjf;laksjdf;laksjdf;lkj//asdfalsdk\",\r\n    }); */\r\n \r\n   \r\n    const data = new FormData();\r\n\r\n    let content = {\r\n      title: reviewName,\r\n      content: reviewContent,\r\n      star: reviewStar,\r\n     \r\n    };\r\n    data.append(\r\n      \"request\",\r\n      new Blob([JSON.stringify(content)], { type: \"application/json\" })\r\n    );\r\n\r\n    imgs.map((img)=>{\r\n      data.append(\"image\", img)\r\n    });\r\n    axios\r\n      .post(\"http://13.124.207.219:8080/sample_project/review\", data, {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n          // \"Content-Type\": \"application/json\",\r\n\r\n        },\r\n      })\r\n      .then((res) => {\r\n        console.log(res);\r\n        navigate(\"/Review\");\r\n        \r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n\r\n    \r\n  };\r\n  useEffect(()=>{\r\n    setUseFile(file);\r\n  },[file]);\r\n  return (\r\n    <WriteReviewContainer>\r\n      <Link to={\"/Review\"}>\r\n        <Header title={\"리뷰 쓰기\"} />\r\n      </Link>\r\n      <FormContainer>\r\n      \r\n          {/* <TypeInput\r\n            type=\"text\"\r\n            placeholder=\"별점\"\r\n            onChange={onChangeReviewStar}\r\n          /> */}\r\n          <Stars>\r\n          {/* <Star onClick={star1Toggle}>{first}</Star> \r\n          <Star onClick={star2Toggle}>{second}</Star>\r\n          <Star onClick={star3Toggle}>{third}</Star>\r\n          <Star onClick={star4Toggle}>{fourth}</Star>\r\n          <Star onClick={star5Toggle}>{fifth}</Star>\r\n           */}\r\n          <Star onClick={()=>{starsToggle(1)}}>{stars[0]}</Star> \r\n          <Star onClick={()=>{starsToggle(2)}}>{stars[1]}</Star>\r\n          <Star onClick={()=>{starsToggle(3)}}>{stars[2]}</Star>\r\n          <Star onClick={()=>{starsToggle(4)}}>{stars[3]}</Star>\r\n          <Star onClick={()=>{starsToggle(5)}}>{stars[4]}</Star>\r\n          \r\n          </Stars>\r\n        \r\n      <ImageContainer>\r\n\r\n        <ImageForm>\r\n            <input\r\n              id=\"image_input\"\r\n              type=\"file\"\r\n              accept=\"image/jpg,image/png,image/jpeg,image/gif\"\r\n              name=\"photo\"\r\n              onChange={onChangeImage}\r\n            />\r\n             <FileIconContainer>\r\n               <FileIcon for=\"image_input\">  <FontAwesomeIcon></FontAwesomeIcon></FileIcon>             \r\n             </FileIconContainer> \r\n          </ImageForm>\r\n        \r\n          <File>\r\n         {(useFile===undefined) ?  null : (useFile.map((one)=>( <img src={one} alt={one} />) ))}\r\n        </File> \r\n      </ImageContainer>\r\n        <ContentForm>\r\n          <TypeInput\r\n            type=\"text\"\r\n            placeholder=\"이름\"\r\n            onChange={onChangeReviewName}\r\n          />         \r\n          <br />\r\n          <TypeInput\r\n            type=\"text\"\r\n            placeholder=\"비밀번호\"\r\n            onChange={onChangeReviewPw}\r\n          />\r\n          <br />\r\n          <ContentTextArea\r\n            placeholder=\"내용을 입력하세요\"\r\n            onChange={onChangeReviewContent}\r\n          />\r\n          <br />\r\n         \r\n        </ContentForm>\r\n         \r\n        </FormContainer>\r\n\r\n      <SubmitButton formEncType=\"multipart/form-data\" onClick={submit}>\r\n        전송\r\n      </SubmitButton>\r\n    </WriteReviewContainer>\r\n  );\r\n};\r\n\r\nexport default WriteReview;"]},"metadata":{},"sourceType":"module"}