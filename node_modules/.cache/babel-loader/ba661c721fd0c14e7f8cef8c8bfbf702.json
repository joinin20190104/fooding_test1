{"ast":null,"code":"import _toConsumableArray from\"D:/workspace/capstone_project/exex1/my-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"D:/workspace/capstone_project/exex1/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"D:/workspace/capstone_project/exex1/my-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11,_templateObject12,_templateObject13;import React,{useEffect,useState}from\"react\";import Container from\"./Review\";import styled,{createGlobalStyle}from\"styled-components\";import{useNavigate,Link}from\"react-router-dom\";import{Navigate}from\"react-router\";import GlobalStyle from\"../GlobalStyle\";import Header from\"./Header\";import FontAwesomeIcon from\"./FontAwesome\";import{Cookies}from\"react-cookie\";import url from\"../Api\";// border: 1px solid black;\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var WriteReviewContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  \\n  width: 350px;\\n  height: 600px;\\n  position: relative;\\n  display: flex;\\n\"])));var SubmitButton=styled.button(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  border: none;\\n  width: 350px;\\n  height: 80px;\\n  position: absolute;\\n  bottom: 0px;\\n  background-color: \",\";\\n  font-family: \\\"Source Sans Pro\\\", sans-serif;\\n\\n  color: white;\\n  &:hover {\\n    cursor: pointer;\\n  }\\n\"])),function(props){return props.theme.mainColor;});var TypeInput=styled.input(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  border: none;\\n  border-bottom: 1px solid gray;\\n  width: 220px;\\n  font-size: 25px;\\n  padding-top: 15px;\\n  &:focus {\\n    outline: none;\\n  }\\n\"])));var ContentTextArea=styled.textarea(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  width: 220px;\\n  height: 200px;\\n  font-size: 20px;\\n  resize: none;\\n  border: none;\\n  border-bottom: 1px solid gray;\\n\\n  font-family: \\\"Source Sans Pro\\\", sans-serif;\\n  &:focus {\\n    outline: none;\\n  }\\n\"])));var FormContainer=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  padding-top: 40px;\\n  width: 100%;\\n  height: 90%;\\n  flex-direction:column;\\n  display: flex;\\n  align-items:center;\\n \\n\"])));var ImageForm=styled.form(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\ninput[type=\\\"file\\\"] {\\n  width: 0;\\n  height: 0;\\n  padding: 0;\\n  overflow: hidden;\\n  border: none;\\n}\\n\\n\"])));var ImageContainer=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  width:95%;\\n  height:110px;\\n  background-color:#ecf0f1;\\n  display:flex;\\n  overflow:auto;\\n  align-items:start;\\n  ::-webkit-scrollbar {\\n    display: none; /* Chrome, Safari, Opera*/\\n  }\\n  img {\\n    width:70px;\\n    height:70px;\\n    margin-left:10px;\\n    \\n  }\\n \\n\"])));var Stars=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  width:60%;\\n  height:50px;\\n  display:flex;\\n  justify-content:space-evenly;\\n  margin-top:10px;\\n  margin-bottom:10px;\\n  \\n  \"])));var Star=styled.span(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  font-size:30px;\\n  cursor:pointer;\\n \\n  color:#fbc531;\\n\"])));var FileIconContainer=styled.div(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\" \\nmargin-left:10px;\\n  width:70px;\\n  height:70px;\\n  display:flex;\\n  justify-content:center;\\n  align-items:center;\\n  background-color:white; \\n  cursor:pointer;\\n\"])));var File=styled.div(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n  margin-left:10px;\\n  display:flex;\\n  padding-top:20px;\\n  width:70px;\\n  height:70px;\\n  \\n img{\\n  width:70px;\\n  height:70px;box-sizing: border-box;\\n }\\n\"])));var FileIcon=styled.label(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n  font-size:20px;\\n  cursor:pointer;\\n\"])));var ContentForm=styled.form(_templateObject13||(_templateObject13=_taggedTemplateLiteral([\"\\n width:90%;\\n display:flex;\\n flex-direction:column;\\n align-items:center;\\n & input,textarea{\\n   width:90%;\\n }\\n height:300px;\\n\"])));var WriteReview=function WriteReview(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),reviewName=_useState2[0],setReviewName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),reviewStar=_useState4[0],setReviewStar=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),reviewPw=_useState6[0],setReviewPw=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),reviewContent=_useState8[0],setReviewContent=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),imgs=_useState10[0],setImg=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),file=_useState12[0],setFile=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),useFile=_useState14[0],setUseFile=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),files=_useState16[0],setFiles=_useState16[1];var _useState17=useState(0),_useState18=_slicedToArray(_useState17,2),star=_useState18[0],setStar=_useState18[1];// const [first,setFirst]= useState(\"☆\");\n// const [second,setSecond]= useState(\"☆\");\n// const [third,setThird]= useState(\"☆\");\n// const [fourth,setFourth]= useState(\"☆\");\n// const [fifth,setFifth]= useState(\"☆\");\nvar _useState19=useState(),_useState20=_slicedToArray(_useState19,2),session=_useState20[0],setSession=_useState20[1];var _useState21=useState([\"☆\",\"☆\",\"☆\",\"☆\",\"☆\"]),_useState22=_slicedToArray(_useState21,2),stars=_useState22[0],setStars=_useState22[1];var navigate=useNavigate();var onChangeReviewName=function onChangeReviewName(e){return setReviewName(e.target.value);};var onChangeReviewPw=function onChangeReviewPw(e){return setReviewPw(e.target.value);};var onChangeReviewContent=function onChangeReviewContent(e){return setReviewContent(e.target.value);};var cookies=new Cookies();var getCookie=function getCookie(name){return cookies.get(name);};var starsToggle=function starsToggle(num){setReviewStar(num);switch(num){case 1:setStars([\"★\",\"☆\",\"☆\",\"☆\",\"☆\"]);break;case 2:setStars([\"★\",\"★\",\"☆\",\"☆\",\"☆\"]);break;case 3:setStars([\"★\",\"★\",\"★\",\"☆\",\"☆\"]);break;case 4:setStars([\"★\",\"★\",\"★\",\"★\",\"☆\"]);break;case 5:setStars([\"★\",\"★\",\"★\",\"★\",\"★\"]);break;}};useEffect(function(){console.log(\"getCookie\",getCookie(\"JSESSIONID\"));},[]);var countStar=function countStar(){var temp=star+1;setStar(star+1);};var onChangeImage=function onChangeImage(e){e.preventDefault();var img=e.target.files[0];var tempArr=[].concat(_toConsumableArray(imgs),[img]);setImg(tempArr);console.log(\"tempArr\",tempArr);var prevFile=URL.createObjectURL(e.target.files[0]);setFile([].concat(_toConsumableArray(file),[prevFile]));console.log(\"imgs: \",file);console.log(\"prevFile:\",prevFile);e.target.value='';};var submit=function submit(e){e.preventDefault();console.log(\"imgs\",imgs);var axios=require(\"axios\");/*   var data = JSON.stringify({\r\n      name: reviewName,\r\n      star: reviewStar,\r\n      password: reviewPw,\r\n      content: reviewContent,\r\n      image: \"a;slkdfjas;lkdjf;laskdjf;laksjdf;laksjdf;lkj//asdfalsdk\",\r\n    }); */var data=new FormData();var content={title:reviewName,content:reviewContent,star:reviewStar};data.append(\"request\",new Blob([JSON.stringify(content)],{type:\"application/json\"}));imgs.map(function(img){data.append(\"image\",img);});axios.post(\"http://13.124.207.219:8080/sample_project/review\",data,{headers:{\"Content-Type\":\"multipart/form-data\"// \"Content-Type\": \"application/json\",\n}}).then(function(res){console.log(res);navigate(\"/Review\");}).catch(function(err){console.log(err);});};useEffect(function(){setUseFile(file);},[file]);return/*#__PURE__*/_jsxs(WriteReviewContainer,{children:[/*#__PURE__*/_jsx(Link,{to:\"/Review\",children:/*#__PURE__*/_jsx(Header,{title:\"리뷰 쓰기\"})}),/*#__PURE__*/_jsxs(FormContainer,{children:[/*#__PURE__*/_jsxs(Stars,{children:[/*#__PURE__*/_jsx(Star,{onClick:function onClick(){starsToggle(1);},children:stars[0]}),/*#__PURE__*/_jsx(Star,{onClick:function onClick(){starsToggle(2);},children:stars[1]}),/*#__PURE__*/_jsx(Star,{onClick:function onClick(){starsToggle(3);},children:stars[2]}),/*#__PURE__*/_jsx(Star,{onClick:function onClick(){starsToggle(4);},children:stars[3]}),/*#__PURE__*/_jsx(Star,{onClick:function onClick(){starsToggle(5);},children:stars[4]})]}),/*#__PURE__*/_jsxs(ImageContainer,{children:[/*#__PURE__*/_jsxs(ImageForm,{children:[/*#__PURE__*/_jsx(\"input\",{id:\"image_input\",type:\"file\",accept:\"image/jpg,image/png,image/jpeg,image/gif\",name:\"photo\",onChange:onChangeImage}),/*#__PURE__*/_jsx(FileIconContainer,{children:/*#__PURE__*/_jsxs(FileIcon,{for:\"image_input\",children:[\"  \",/*#__PURE__*/_jsx(FontAwesomeIcon,{})]})})]}),/*#__PURE__*/_jsx(File,{children:useFile===undefined?null:useFile.map(function(one){return/*#__PURE__*/_jsx(\"img\",{src:one,alt:one});})})]}),/*#__PURE__*/_jsxs(ContentForm,{children:[/*#__PURE__*/_jsx(TypeInput,{type:\"text\",placeholder:\"\\uC774\\uB984\",onChange:onChangeReviewName}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(TypeInput,{type:\"text\",placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\",onChange:onChangeReviewPw}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(ContentTextArea,{placeholder:\"\\uB0B4\\uC6A9\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\",onChange:onChangeReviewContent}),/*#__PURE__*/_jsx(\"br\",{})]})]}),/*#__PURE__*/_jsx(SubmitButton,{formEncType:\"multipart/form-data\",onClick:submit,children:\"\\uC804\\uC1A1\"})]});};export default WriteReview;","map":{"version":3,"sources":["D:/workspace/capstone_project/exex1/my-app/src/component/WriteReview.js"],"names":["React","useEffect","useState","Container","styled","createGlobalStyle","useNavigate","Link","Navigate","GlobalStyle","Header","FontAwesomeIcon","Cookies","url","WriteReviewContainer","div","SubmitButton","button","props","theme","mainColor","TypeInput","input","ContentTextArea","textarea","FormContainer","ImageForm","form","ImageContainer","Stars","Star","span","FileIconContainer","File","FileIcon","label","ContentForm","WriteReview","reviewName","setReviewName","reviewStar","setReviewStar","reviewPw","setReviewPw","reviewContent","setReviewContent","imgs","setImg","file","setFile","useFile","setUseFile","files","setFiles","star","setStar","session","setSession","stars","setStars","navigate","onChangeReviewName","e","target","value","onChangeReviewPw","onChangeReviewContent","cookies","getCookie","name","get","starsToggle","num","console","log","countStar","temp","onChangeImage","preventDefault","img","tempArr","prevFile","URL","createObjectURL","submit","axios","require","data","FormData","content","title","append","Blob","JSON","stringify","type","map","post","headers","then","res","catch","err","undefined","one"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Container from \"./Review\";\r\nimport styled, { createGlobalStyle } from \"styled-components\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\nimport { Navigate } from \"react-router\";\r\nimport GlobalStyle from \"../GlobalStyle\";\r\nimport Header from \"./Header\";\r\nimport FontAwesomeIcon from \"./FontAwesome\";\r\nimport {Cookies} from \"react-cookie\";\r\nimport url from \"../Api\";\r\n// border: 1px solid black;\r\nconst WriteReviewContainer = styled.div`\r\n  \r\n  width: 350px;\r\n  height: 600px;\r\n  position: relative;\r\n  display: flex;\r\n`;\r\nconst SubmitButton = styled.button`\r\n  border: none;\r\n  width: 350px;\r\n  height: 80px;\r\n  position: absolute;\r\n  bottom: 0px;\r\n  background-color: ${(props) => props.theme.mainColor};\r\n  font-family: \"Source Sans Pro\", sans-serif;\r\n\r\n  color: white;\r\n  &:hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\nconst TypeInput = styled.input`\r\n  border: none;\r\n  border-bottom: 1px solid gray;\r\n  width: 220px;\r\n  font-size: 25px;\r\n  padding-top: 15px;\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`;\r\nconst ContentTextArea = styled.textarea`\r\n  width: 220px;\r\n  height: 200px;\r\n  font-size: 20px;\r\n  resize: none;\r\n  border: none;\r\n  border-bottom: 1px solid gray;\r\n\r\n  font-family: \"Source Sans Pro\", sans-serif;\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`;\r\nconst FormContainer = styled.div`\r\n  padding-top: 40px;\r\n  width: 100%;\r\n  height: 90%;\r\n  flex-direction:column;\r\n  display: flex;\r\n  align-items:center;\r\n \r\n`;\r\nconst ImageForm = styled.form`\r\ninput[type=\"file\"] {\r\n  width: 0;\r\n  height: 0;\r\n  padding: 0;\r\n  overflow: hidden;\r\n  border: none;\r\n}\r\n\r\n`;\r\nconst ImageContainer = styled.div`\r\n  width:95%;\r\n  height:110px;\r\n  background-color:#ecf0f1;\r\n  display:flex;\r\n  overflow:auto;\r\n  align-items:start;\r\n  ::-webkit-scrollbar {\r\n    display: none; /* Chrome, Safari, Opera*/\r\n  }\r\n  img {\r\n    width:70px;\r\n    height:70px;\r\n    margin-left:10px;\r\n    \r\n  }\r\n \r\n`;\r\nconst Stars = styled.div`\r\n  width:60%;\r\n  height:50px;\r\n  display:flex;\r\n  justify-content:space-evenly;\r\n  margin-top:10px;\r\n  margin-bottom:10px;\r\n  \r\n  `;\r\nconst Star = styled.span`\r\n  font-size:30px;\r\n  cursor:pointer;\r\n \r\n  color:#fbc531;\r\n`;\r\nconst FileIconContainer = styled.div` \r\nmargin-left:10px;\r\n  width:70px;\r\n  height:70px;\r\n  display:flex;\r\n  justify-content:center;\r\n  align-items:center;\r\n  background-color:white; \r\n  cursor:pointer;\r\n`;\r\nconst File = styled.div`\r\n  margin-left:10px;\r\n  display:flex;\r\n  padding-top:20px;\r\n  width:70px;\r\n  height:70px;\r\n  \r\n img{\r\n  width:70px;\r\n  height:70px;box-sizing: border-box;\r\n }\r\n`;\r\nconst FileIcon = styled.label`\r\n  font-size:20px;\r\n  cursor:pointer;\r\n`;\r\nconst ContentForm= styled.form`\r\n width:90%;\r\n display:flex;\r\n flex-direction:column;\r\n align-items:center;\r\n & input,textarea{\r\n   width:90%;\r\n }\r\n height:300px;\r\n`;\r\nconst WriteReview = () => {\r\n  const [reviewName, setReviewName] = useState(\"\");\r\n  const [reviewStar, setReviewStar] = useState(\"\");\r\n  const [reviewPw, setReviewPw] = useState(\"\");\r\n  const [reviewContent, setReviewContent] = useState(\"\");\r\n  const [imgs, setImg] = useState([]);\r\n\r\n\r\n  const [file, setFile] = useState([]);\r\n  const [useFile,setUseFile] = useState([]);\r\n\r\n  const [files, setFiles] = useState([]);\r\n  \r\n  const [star,setStar] = useState(0);\r\n  \r\n  // const [first,setFirst]= useState(\"☆\");\r\n  // const [second,setSecond]= useState(\"☆\");\r\n  // const [third,setThird]= useState(\"☆\");\r\n  // const [fourth,setFourth]= useState(\"☆\");\r\n  // const [fifth,setFifth]= useState(\"☆\");\r\n const [session,setSession] = useState();\r\n  const [stars,setStars] = useState([\"☆\",\"☆\",\"☆\",\"☆\",\"☆\"]);\r\n  let navigate = useNavigate();\r\n  const onChangeReviewName = (e) => setReviewName(e.target.value);\r\n  const onChangeReviewPw = (e) => setReviewPw(e.target.value);\r\n  const onChangeReviewContent = (e) => setReviewContent(e.target.value);\r\n  const cookies = new Cookies();\r\n   const getCookie=(name)=>{\r\n     return cookies.get(name);\r\n  }\r\nconst starsToggle = (num)=>{\r\n\r\n  setReviewStar(num);\r\n  switch(num){\r\n    case 1:\r\n      setStars([\"★\",\"☆\",\"☆\",\"☆\",\"☆\"]);\r\n    break;\r\n    case 2:\r\n      setStars([\"★\",\"★\",\"☆\",\"☆\",\"☆\"]);\r\n      break;\r\n    case 3:\r\n      setStars([\"★\",\"★\",\"★\",\"☆\",\"☆\"]);\r\n    \r\n      break;\r\n    case 4:\r\n      setStars([\"★\",\"★\",\"★\",\"★\",\"☆\"]);\r\n    \r\n    break;\r\n    case 5:\r\n      setStars([\"★\",\"★\",\"★\",\"★\",\"★\"]);\r\n      break;\r\n  }\r\n}\r\nuseEffect(()=>{\r\n  console.log(\"getCookie\",getCookie(\"JSESSIONID\"));\r\n\r\n},[]);\r\n    const countStar = ()=>{\r\n      let temp = star+1;\r\n      setStar(star+1);\r\n    }\r\n  const onChangeImage = (e) => {\r\n    e.preventDefault();\r\n    const img = e.target.files[0];\r\n    \r\n    const tempArr=[...imgs,img];\r\n    setImg(tempArr);\r\n    console.log(\"tempArr\",tempArr);\r\n    const prevFile = URL.createObjectURL(e.target.files[0]);\r\n    setFile([...file,prevFile]);\r\n    console.log(\"imgs: \", file);\r\n    console.log(\"prevFile:\", prevFile);\r\n    e.target.value = ''; \r\n  };\r\n\r\n  const submit = (e) => {\r\n    e.preventDefault();\r\n    console.log(\"imgs\",imgs);\r\n    var axios = require(\"axios\");\r\n    /*   var data = JSON.stringify({\r\n      name: reviewName,\r\n      star: reviewStar,\r\n      password: reviewPw,\r\n      content: reviewContent,\r\n      image: \"a;slkdfjas;lkdjf;laskdjf;laksjdf;laksjdf;lkj//asdfalsdk\",\r\n    }); */\r\n \r\n   \r\n    const data = new FormData();\r\n\r\n    let content = {\r\n      title: reviewName,\r\n      content: reviewContent,\r\n      star: reviewStar,\r\n     \r\n    };\r\n    data.append(\r\n      \"request\",\r\n      new Blob([JSON.stringify(content)], { type: \"application/json\" })\r\n    );\r\n\r\n    imgs.map((img)=>{\r\n      data.append(\"image\", img)\r\n    });\r\n    axios\r\n      .post(\"http://13.124.207.219:8080/sample_project/review\", data, {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n          // \"Content-Type\": \"application/json\",\r\n\r\n        },\r\n      })\r\n      .then((res) => {\r\n        console.log(res);\r\n        navigate(\"/Review\");\r\n        \r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n\r\n    \r\n  };\r\n  useEffect(()=>{\r\n    setUseFile(file);\r\n  },[file]);\r\n  return (\r\n    <WriteReviewContainer>\r\n      <Link to={\"/Review\"}>\r\n        <Header title={\"리뷰 쓰기\"} />\r\n      </Link>\r\n      <FormContainer>\r\n      \r\n          {/* <TypeInput\r\n            type=\"text\"\r\n            placeholder=\"별점\"\r\n            onChange={onChangeReviewStar}\r\n          /> */}\r\n          <Stars>\r\n          {/* <Star onClick={star1Toggle}>{first}</Star> \r\n          <Star onClick={star2Toggle}>{second}</Star>\r\n          <Star onClick={star3Toggle}>{third}</Star>\r\n          <Star onClick={star4Toggle}>{fourth}</Star>\r\n          <Star onClick={star5Toggle}>{fifth}</Star>\r\n           */}\r\n          <Star onClick={()=>{starsToggle(1)}}>{stars[0]}</Star> \r\n          <Star onClick={()=>{starsToggle(2)}}>{stars[1]}</Star>\r\n          <Star onClick={()=>{starsToggle(3)}}>{stars[2]}</Star>\r\n          <Star onClick={()=>{starsToggle(4)}}>{stars[3]}</Star>\r\n          <Star onClick={()=>{starsToggle(5)}}>{stars[4]}</Star>\r\n          \r\n          </Stars>\r\n        \r\n      <ImageContainer>\r\n\r\n        <ImageForm>\r\n            <input\r\n              id=\"image_input\"\r\n              type=\"file\"\r\n              accept=\"image/jpg,image/png,image/jpeg,image/gif\"\r\n              name=\"photo\"\r\n              onChange={onChangeImage}\r\n            />\r\n             <FileIconContainer>\r\n               <FileIcon for=\"image_input\">  <FontAwesomeIcon></FontAwesomeIcon></FileIcon>             \r\n             </FileIconContainer> \r\n          </ImageForm>\r\n        \r\n          <File>\r\n         {(useFile===undefined) ?  null : (useFile.map((one)=>( <img src={one} alt={one} />) ))}\r\n        </File> \r\n      </ImageContainer>\r\n        <ContentForm>\r\n          <TypeInput\r\n            type=\"text\"\r\n            placeholder=\"이름\"\r\n            onChange={onChangeReviewName}\r\n          />         \r\n          <br />\r\n          <TypeInput\r\n            type=\"text\"\r\n            placeholder=\"비밀번호\"\r\n            onChange={onChangeReviewPw}\r\n          />\r\n          <br />\r\n          <ContentTextArea\r\n            placeholder=\"내용을 입력하세요\"\r\n            onChange={onChangeReviewContent}\r\n          />\r\n          <br />\r\n         \r\n        </ContentForm>\r\n         \r\n        </FormContainer>\r\n\r\n      <SubmitButton formEncType=\"multipart/form-data\" onClick={submit}>\r\n        전송\r\n      </SubmitButton>\r\n    </WriteReviewContainer>\r\n  );\r\n};\r\n\r\nexport default WriteReview;"]},"metadata":{},"sourceType":"module"}