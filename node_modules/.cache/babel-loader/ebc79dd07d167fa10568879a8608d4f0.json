{"ast":null,"code":"import _objectSpread from\"D:/workspace/capstone_project/exex1/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _taggedTemplateLiteral from\"D:/workspace/capstone_project/exex1/my-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7;import React,{useState}from\"react\";import{useForm}from\"react-hook-form\";import Header from\"./Header\";import styled from\"styled-components\";import{Link}from\"react-router-dom\";import{url}from\"../Api\";/*\r\n{\r\n\t\"userId\" : \"아이디\",\r\n\t\"userPassword\" : \"패스워드\",\r\n\t\"sex\" : true,\r\n\t\"userName\": \"정현승\",\r\n\t\"nickName\": \"별명\",\r\n\t\"email\": \"hansung@naver.com\",\r\n\t\"age\" : 26,\r\n\t\"role\" : \"ROLE_USER\"\r\n}\r\n*/import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  border: 1px solid black;\\n  width: 350px;\\n  height: 600px;\\n  position: relative;\\n  box-sizing: border-box;\\n\"])));var Form=styled.form(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  margin-top: 60px;\\n  height: 500px;\\n  padding: 20px;\\n  position: relative;\\n\"])));var Input=styled.input.attrs({required:true})(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  margin-bottom: 20px;\\n  height: 30px;\\n  padding: 5px;\\n  border: none;\\n  border-bottom: 1px solid \",\";\\n  &:focus {\\n    outline: none;\\n  }\\n\"])),function(props){return props.theme.borderGrayColor;});var RadioBox=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  padding: 0px 10px;\\n  font-size: 13px;\\n  /*display: inline-flex;\\n  align-items: center;*/\\n\"])));var RadioButton=styled.input(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  cursor: pointer;\\n  appearance: none;\\n  width: 0.9rem;\\n  height: 0.9rem;\\n  border-radius: 100%;\\n  background-color: white;\\n  border: 1px solid \",\";\\n\\n  &:checked {\\n    background-color: \",\";\\n  }\\n\"])),function(props){return props.theme.mainColor;},function(props){return props.theme.mainColor;});var Message=styled.span(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  color: \",\";\\n  font-size: 12px;\\n  position: relative;\\n  bottom: 12px;\\n\"])),function(props){return props.theme.borderGrayColor;});var SubmitBtn=styled.button(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  border: none;\\n  background-color: \",\";\\n  color: white;\\n  height: 50px;\\n  border-radius: 3px;\\n  font-size: 15px;\\n  cursor: pointer;\\n  width: 308px;\\n  position: absolute;\\n  bottom: 0;\\n\"])),function(props){return props.theme.mainColor;});function SignUp(){var _errors$Id,_errors$password,_errors$password2,_errors$password3,_errors$nickName,_errors$age,_errors$extraError;var _useForm=useForm({defaultValues:{sex:\"female\"}}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,reset=_useForm.reset,errors=_useForm.formState.errors,setError=_useForm.setError;var signUpPost=function signUpPost(data){console.log(data);var userAge=2022-data.age.substring(0,4)+1;// 나이 계산\nconsole.log(userAge);var axios=require(\"axios\");var data=JSON.stringify({userId:data.Id,userPassword:data.password,sex:data.sex==\"male\"?true:false,userName:data.userName,nickName:data.nickName,age:userAge,role:\"ROLE_USER\"});var config={method:\"post\",url:url+\"/sample_project/join\",headers:{\"Content-Type\":\"application/json\"},data:data};axios(config).then(function(response){console.log(response.data);}).catch(function(error){console.log(error);});};var onValid=function onValid(data){// 데이터 전송시 작동, data는 입력된 값들\n/*\r\n    Id: \"asdfasdf\"\r\n    age: \"20200202\"\r\n    password: \"asdfasdf\"\r\n    password1: \"asdfasdf\"\r\n    nickName\"dd\"\r\n    sex: \"male\"\r\n    userName: \"asdf\"\r\n*/if(data.password!==data.password1){setError(\"password1\",{message:\"비밀번호가 맞지 않습니다.\"},{shouldFocus:true});}else{reset();signUpPost(data);}//setError(\"extraError\", { message: \"Server offline.\" });\n};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(Header,{title:\"회원가입\"})}),/*#__PURE__*/_jsxs(Form,{style:{display:\"flex\",flexDirection:\"column\"},onSubmit:handleSubmit(onValid),children:[/*#__PURE__*/_jsx(Input,_objectSpread(_objectSpread({},register(\"Id\",{required:\"아이디를 입력하세요.\",minLength:{value:8,message:\"최소 8자 이상 입력하세요.\"}})),{},{placeholder:\"\\uC544\\uC774\\uB514\"})),/*#__PURE__*/_jsx(Message,{children:errors===null||errors===void 0?void 0:(_errors$Id=errors.Id)===null||_errors$Id===void 0?void 0:_errors$Id.message}),/*#__PURE__*/_jsx(Input,_objectSpread(_objectSpread({},register(\"password\",{required:\"비밀번호를 입력하세요.\",minLength:{value:8,message:\"최소 8자 이상 입력하세요.\"}})),{},{placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\",type:\"password\"})),/*#__PURE__*/_jsx(Message,{children:errors===null||errors===void 0?void 0:(_errors$password=errors.password)===null||_errors$password===void 0?void 0:_errors$password.message}),/*#__PURE__*/_jsx(Input,_objectSpread(_objectSpread({},register(\"password1\",{required:\"비밀번호 확인을 입력하세요.\"})),{},{placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638 \\uD655\\uC778\",type:\"password\"})),/*#__PURE__*/_jsx(Message,{children:errors===null||errors===void 0?void 0:(_errors$password2=errors.password1)===null||_errors$password2===void 0?void 0:_errors$password2.message}),/*#__PURE__*/_jsx(Input,_objectSpread(_objectSpread({},register(\"userName\",{required:\"이름을 입력하세요.\",minLength:{value:2,message:\"최소 2자 이상 입력하세요.\"}})),{},{placeholder:\"\\uC774\\uB984 (\\uC2E4\\uBA85 \\uC785\\uB825)\"})),/*#__PURE__*/_jsx(Message,{children:errors===null||errors===void 0?void 0:(_errors$password3=errors.password)===null||_errors$password3===void 0?void 0:_errors$password3.message}),/*#__PURE__*/_jsx(Input,_objectSpread(_objectSpread({},register(\"nickName\",{required:\"닉네임을 입력하세요.\",minLength:{value:2,message:\"최소 2자 이상 입력하세요.\"},validate:{/*noNico: (value) =>\r\n                value.includes(\"nico\") ? \"no nicos allowed\" : true,\r\n\r\n              noNick: (value) =>\r\n                value.includes(\"nick\") ? \"no nick allowed\" : true,\r\n                */}})),{},{placeholder:\"\\uB2C9\\uB124\\uC784\"})),/*#__PURE__*/_jsx(Message,{children:errors===null||errors===void 0?void 0:(_errors$nickName=errors.nickName)===null||_errors$nickName===void 0?void 0:_errors$nickName.message}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",width:\"100%\"},children:[/*#__PURE__*/_jsx(Input,_objectSpread(_objectSpread({},register(\"age\",{required:\"나이를 입력하세요.\",minLength:{value:8,message:\"8자리를 입력하세요.\"},pattern:{value:/[0-9]/g,message:\"숫자만 입력해주세요.\"}})),{},{placeholder:\"\\uC0DD\\uB144\\uC6D4\\uC77C (8\\uC790\\uB9AC \\uC785\\uB825)\"})),/*#__PURE__*/_jsxs(RadioBox,{children:[/*#__PURE__*/_jsx(RadioButton,_objectSpread(_objectSpread({type:\"radio\",name:\"sex\",value:\"female\"},register(\"sex\")),{},{readOnly:true})),/*#__PURE__*/_jsx(\"span\",{children:\"\\uC5EC\\uC131\"}),/*#__PURE__*/_jsx(RadioButton,_objectSpread(_objectSpread({type:\"radio\",name:\"sex\",value:\"male\",style:{marginLeft:12}},register(\"sex\")),{},{readOnly:true})),/*#__PURE__*/_jsx(\"span\",{children:\"\\uB0A8\\uC131\"})]})]}),/*#__PURE__*/_jsx(Message,{children:errors===null||errors===void 0?void 0:(_errors$age=errors.age)===null||_errors$age===void 0?void 0:_errors$age.message}),/*#__PURE__*/_jsx(SubmitBtn,{children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"}),/*#__PURE__*/_jsx(Message,{children:errors===null||errors===void 0?void 0:(_errors$extraError=errors.extraError)===null||_errors$extraError===void 0?void 0:_errors$extraError.message})]})]});}export default SignUp;","map":{"version":3,"sources":["D:/workspace/capstone_project/exex1/my-app/src/component/SignUp.js"],"names":["React","useState","useForm","Header","styled","Link","url","Container","div","Form","form","Input","input","attrs","required","props","theme","borderGrayColor","RadioBox","RadioButton","mainColor","Message","span","SubmitBtn","button","SignUp","defaultValues","sex","register","handleSubmit","reset","errors","formState","setError","signUpPost","data","console","log","userAge","age","substring","axios","require","JSON","stringify","userId","Id","userPassword","password","userName","nickName","role","config","method","headers","then","response","catch","error","onValid","password1","message","shouldFocus","display","flexDirection","minLength","value","validate","width","pattern","marginLeft","extraError"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport Header from \"./Header\";\r\nimport styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { url } from \"../Api\";\r\n\r\n/*\r\n{\r\n\t\"userId\" : \"아이디\",\r\n\t\"userPassword\" : \"패스워드\",\r\n\t\"sex\" : true,\r\n\t\"userName\": \"정현승\",\r\n\t\"nickName\": \"별명\",\r\n\t\"email\": \"hansung@naver.com\",\r\n\t\"age\" : 26,\r\n\t\"role\" : \"ROLE_USER\"\r\n}\r\n*/\r\n\r\nconst Container = styled.div`\r\n  border: 1px solid black;\r\n  width: 350px;\r\n  height: 600px;\r\n  position: relative;\r\n  box-sizing: border-box;\r\n`;\r\n\r\nconst Form = styled.form`\r\n  margin-top: 60px;\r\n  height: 500px;\r\n  padding: 20px;\r\n  position: relative;\r\n`;\r\n\r\nconst Input = styled.input.attrs({ required: true })`\r\n  margin-bottom: 20px;\r\n  height: 30px;\r\n  padding: 5px;\r\n  border: none;\r\n  border-bottom: 1px solid ${(props) => props.theme.borderGrayColor};\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`;\r\n\r\nconst RadioBox = styled.div`\r\n  padding: 0px 10px;\r\n  font-size: 13px;\r\n  /*display: inline-flex;\r\n  align-items: center;*/\r\n`;\r\n\r\nconst RadioButton = styled.input`\r\n  cursor: pointer;\r\n  appearance: none;\r\n  width: 0.9rem;\r\n  height: 0.9rem;\r\n  border-radius: 100%;\r\n  background-color: white;\r\n  border: 1px solid ${(props) => props.theme.mainColor};\r\n\r\n  &:checked {\r\n    background-color: ${(props) => props.theme.mainColor};\r\n  }\r\n`;\r\n\r\nconst Message = styled.span`\r\n  color: ${(props) => props.theme.borderGrayColor};\r\n  font-size: 12px;\r\n  position: relative;\r\n  bottom: 12px;\r\n`;\r\n\r\nconst SubmitBtn = styled.button`\r\n  border: none;\r\n  background-color: ${(props) => props.theme.mainColor};\r\n  color: white;\r\n  height: 50px;\r\n  border-radius: 3px;\r\n  font-size: 15px;\r\n  cursor: pointer;\r\n  width: 308px;\r\n  position: absolute;\r\n  bottom: 0;\r\n`;\r\n\r\nfunction SignUp() {\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    reset,\r\n    formState: { errors },\r\n    setError,\r\n  } = useForm({\r\n    defaultValues: {\r\n      sex: \"female\",\r\n    },\r\n  });\r\n\r\n  const signUpPost = (data) => {\r\n    console.log(data);\r\n    const userAge = 2022 - data.age.substring(0, 4) + 1; // 나이 계산\r\n    console.log(userAge);\r\n\r\n    var axios = require(\"axios\");\r\n    var data = JSON.stringify({\r\n      userId: data.Id,\r\n      userPassword: data.password,\r\n      sex: data.sex == \"male\" ? true : false,\r\n      userName: data.userName,\r\n      nickName: data.nickName,\r\n      age: userAge,\r\n      role: \"ROLE_USER\",\r\n    });\r\n\r\n    var config = {\r\n      method: \"post\",\r\n      url: url + \"/sample_project/join\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      data: data,\r\n    };\r\n\r\n    axios(config)\r\n      .then(function (response) {\r\n        console.log(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  const onValid = (data) => {\r\n    // 데이터 전송시 작동, data는 입력된 값들\r\n    /*\r\n    Id: \"asdfasdf\"\r\n    age: \"20200202\"\r\n    password: \"asdfasdf\"\r\n    password1: \"asdfasdf\"\r\n    nickName\"dd\"\r\n    sex: \"male\"\r\n    userName: \"asdf\"\r\n*/\r\n\r\n    if (data.password !== data.password1) {\r\n      setError(\r\n        \"password1\",\r\n        { message: \"비밀번호가 맞지 않습니다.\" },\r\n        { shouldFocus: true }\r\n      );\r\n    } else {\r\n      reset();\r\n      signUpPost(data);\r\n    }\r\n\r\n    //setError(\"extraError\", { message: \"Server offline.\" });\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Link to={\"/\"}>\r\n        <Header title={\"회원가입\"} />\r\n      </Link>\r\n      <Form\r\n        style={{ display: \"flex\", flexDirection: \"column\" }}\r\n        onSubmit={handleSubmit(onValid)}\r\n      >\r\n        <Input\r\n          {...register(\"Id\", {\r\n            required: \"아이디를 입력하세요.\",\r\n            minLength: {\r\n              value: 8,\r\n              message: \"최소 8자 이상 입력하세요.\",\r\n            },\r\n          })}\r\n          placeholder=\"아이디\"\r\n        />\r\n        <Message>{errors?.Id?.message}</Message>\r\n        <Input\r\n          {...register(\"password\", {\r\n            required: \"비밀번호를 입력하세요.\",\r\n            minLength: {\r\n              value: 8,\r\n              message: \"최소 8자 이상 입력하세요.\",\r\n            },\r\n          })}\r\n          placeholder=\"비밀번호\"\r\n          type=\"password\"\r\n        />\r\n        <Message>{errors?.password?.message}</Message>\r\n        <Input\r\n          {...register(\"password1\", {\r\n            required: \"비밀번호 확인을 입력하세요.\",\r\n          })}\r\n          placeholder=\"비밀번호 확인\"\r\n          type=\"password\"\r\n        />\r\n        <Message>{errors?.password1?.message}</Message>\r\n        <Input\r\n          {...register(\"userName\", {\r\n            required: \"이름을 입력하세요.\",\r\n            minLength: {\r\n              value: 2,\r\n              message: \"최소 2자 이상 입력하세요.\",\r\n            },\r\n          })}\r\n          placeholder=\"이름 (실명 입력)\"\r\n        />\r\n        <Message>{errors?.password?.message}</Message>\r\n        <Input\r\n          {...register(\"nickName\", {\r\n            required: \"닉네임을 입력하세요.\",\r\n            minLength: {\r\n              value: 2,\r\n              message: \"최소 2자 이상 입력하세요.\",\r\n            },\r\n            validate: {\r\n              /*noNico: (value) =>\r\n                value.includes(\"nico\") ? \"no nicos allowed\" : true,\r\n\r\n              noNick: (value) =>\r\n                value.includes(\"nick\") ? \"no nick allowed\" : true,\r\n                */\r\n            },\r\n          })}\r\n          placeholder=\"닉네임\"\r\n        />\r\n        <Message>{errors?.nickName?.message}</Message>\r\n\r\n        <div style={{ display: \"flex\", width: \"100%\" }}>\r\n          <Input\r\n            {...register(\"age\", {\r\n              required: \"나이를 입력하세요.\",\r\n              minLength: {\r\n                value: 8,\r\n                message: \"8자리를 입력하세요.\",\r\n              },\r\n              pattern: { value: /[0-9]/g, message: \"숫자만 입력해주세요.\" },\r\n            })}\r\n            placeholder=\"생년월일 (8자리 입력)\"\r\n          />\r\n\r\n          <RadioBox>\r\n            <RadioButton\r\n              type=\"radio\"\r\n              name=\"sex\"\r\n              value=\"female\"\r\n              {...register(\"sex\")}\r\n              readOnly\r\n            />\r\n            <span>여성</span>\r\n            <RadioButton\r\n              type=\"radio\"\r\n              name=\"sex\"\r\n              value=\"male\"\r\n              style={{ marginLeft: 12 }}\r\n              {...register(\"sex\")}\r\n              readOnly\r\n            />\r\n            <span>남성</span>\r\n          </RadioBox>\r\n        </div>\r\n        <Message>{errors?.age?.message}</Message>\r\n        <SubmitBtn>회원가입</SubmitBtn>\r\n        <Message>{errors?.extraError?.message}</Message>\r\n      </Form>\r\n    </Container>\r\n  );\r\n}\r\nexport default SignUp;\r\n"]},"metadata":{},"sourceType":"module"}